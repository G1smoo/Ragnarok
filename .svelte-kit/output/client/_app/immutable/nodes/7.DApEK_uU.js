import"../chunks/DsnmJJEf.js";import{p as na,f as m,d as R,s,c as t,t as k,g as n,a as b,b as da,r as a,i as oa,n as V,k as ia,h as ca}from"../chunks/BV3VnAY7.js";import{d as pa,s as o}from"../chunks/CLeL-Gr1.js";import{i as W}from"../chunks/DVTYKMIZ.js";import{e as G,i as U}from"../chunks/LJCc-4DW.js";import{a as va,e as ba}from"../chunks/tTaZ9371.js";import{r as ma,s as z}from"../chunks/CsT_n9Hh.js";import{b as ua}from"../chunks/Byfe-_FW.js";import{b as _a}from"../chunks/B4OLx-bc.js";var xa=m('<div class="card bg-base-100 shadow"><div class="card-body text-center text-base-content/50">Ingen hold endnu. Opret det første hold.</div></div>'),fa=(C,p)=>window.location.href=`/dashboard/teams/${n(p).id}`,ha=m('<tr class="hover cursor-pointer"><td class="font-medium"> </td><td> </td><td class="text-center"> </td><td> </td><td> </td><td> </td></tr>'),ga=m('<div class="card bg-base-100 shadow overflow-x-auto"><table class="table table-zebra"><thead><tr><th>Patruljenavn</th><th>Gruppenavn</th><th class="text-center">Antal</th><th>Leder</th><th>Telefon</th><th>Email</th></tr></thead><tbody></tbody></table></div>'),ya=m('<div class="border border-base-300 rounded-lg p-3 space-y-2"><p class="text-xs text-base-content/40 font-medium"> </p> <div class="grid grid-cols-2 gap-2"><label class="form-control col-span-2 sm:col-span-1"><div class="label py-0.5"><span class="label-text text-xs">Navn</span></div> <input type="text" class="input input-bordered input-sm" placeholder="Fulde navn"/></label> <label class="form-control"><div class="label py-0.5"><span class="label-text text-xs">Alder</span></div> <input type="text" class="input input-bordered input-sm" placeholder="12"/></label></div> <label class="form-control w-full"><div class="label py-0.5"><span class="label-text text-xs">Noter <span class="text-base-content/30">(valgfrit)</span></span></div> <input type="text" class="input input-bordered input-sm" placeholder="Allergi, særlige behov..."/></label></div>'),wa=m('<div role="alert" class="alert alert-error py-2"><span class="text-sm"> </span></div>'),ka=m('<div class="m-3 mx-auto max-w-7xl space-y-4"><div class="flex items-center justify-between"><div class="flex items-center gap-3"><a href="/dashboard" class="btn btn-ghost btn-sm">← Tilbage</a> <h1 class="text-2xl font-bold">Hold</h1></div> <button class="btn btn-primary btn-sm">+ Nyt hold</button></div> <!></div> <dialog class="modal"><div class="modal-box max-w-2xl"><h3 class="font-bold text-lg">Opret nyt hold</h3> <p class="text-sm text-base-content/50 mt-1 mb-6">Udfyld oplysninger om patruljen og den ansvarlige leder.</p> <form method="POST" action="?/create" class="space-y-5"><div class="space-y-3"><p class="text-xs font-semibold uppercase tracking-wide text-base-content/40">Patrulje</p> <div class="grid grid-cols-1 sm:grid-cols-2 gap-3"><label class="form-control w-full"><div class="label"><span class="label-text">Patruljenavn</span></div> <input type="text" name="team_name" class="input input-bordered" placeholder="Ulvene" required/></label> <label class="form-control w-full"><div class="label"><span class="label-text">Gruppenavn</span></div> <input type="text" name="group_name" class="input input-bordered" placeholder="1. Aarhus" required/></label></div> <label class="form-control w-32"><div class="label"><span class="label-text">Antal deltagere</span> <span class="label-text-alt text-base-content/40">3–6</span></div> <input type="number" name="team_number" class="input input-bordered" min="3" max="6" placeholder="4" required/></label></div> <div class="divider my-0"></div> <div class="space-y-3"><p class="text-xs font-semibold uppercase tracking-wide text-base-content/40">Ansvarlig leder</p> <div class="grid grid-cols-1 sm:grid-cols-2 gap-3"><label class="form-control w-full"><div class="label"><span class="label-text">Navn</span></div> <input type="text" name="contact_name" class="input input-bordered" placeholder="Anders Jensen" required/></label> <label class="form-control w-full"><div class="label"><span class="label-text">Telefon</span></div> <input type="text" name="contact_phone" class="input input-bordered" placeholder="12 34 56 78" required/></label></div> <label class="form-control w-full"><div class="label"><span class="label-text">Email</span></div> <input type="email" name="contact_email" class="input input-bordered" placeholder="anders@spejder.dk" required/></label></div> <div class="divider my-0"></div> <div class="space-y-4"><p class="text-xs font-semibold uppercase tracking-wide text-base-content/40">Deltagere <span class="normal-case font-normal ml-1 text-base-content/30"> </span></p> <!></div> <!> <div class="modal-action pt-2"><button type="button" class="btn btn-ghost">Annuller</button> <button type="submit" class="btn btn-primary">Opret hold</button></div></form></div> <form method="dialog" class="modal-backdrop"><button>close</button></form></dialog>',1);function Da(C,p){na(p,!0);let u,g=oa(3);function A(e){return String(e).padStart(2,"0")}var F=ka(),j=R(F),q=t(j),X=s(t(q),2);X.__click=()=>u.showModal(),a(q);var Y=s(q,2);{var Z=e=>{var l=xa();b(e,l)},$=e=>{var l=ga(),i=t(l),c=s(t(i));G(c,21,()=>p.data.teams,U,(_,r)=>{var d=ha();d.__click=[fa,r];var v=t(d),y=t(v,!0);a(v);var x=s(v),w=t(x,!0);a(x);var f=s(x),S=t(f,!0);a(f);var h=s(f),D=t(h,!0);a(h);var E=s(h),la=t(E,!0);a(E);var Q=s(E),ra=t(Q,!0);a(Q),a(d),k(()=>{o(y,n(r).team_name),o(w,n(r).group_name),o(S,n(r).team_number),o(D,n(r).contact_name),o(la,n(r).contact_phone),o(ra,n(r).contact_email)}),b(_,d)}),a(c),a(i),a(l),b(e,l)};W(Y,e=>{p.data.teams.length===0?e(Z):e($,!1)})}a(j);var M=s(j,2),H=t(M),T=s(t(H),4),N=t(T),I=s(t(N),4),J=s(t(I),2);ma(J),a(I),a(N);var O=s(N,8),P=t(O),L=s(t(P)),aa=t(L);a(L),a(P);var ta=s(P,2);G(ta,17,()=>Array.from({length:Math.min(Math.max(n(g)||3,3),6)},(e,l)=>l+1),U,(e,l)=>{var i=ya(),c=t(i),_=t(c);a(c);var r=s(c,2),d=t(r),v=s(t(d),2);a(d);var y=s(d,2),x=s(t(y),2);a(y),a(r);var w=s(r,2),f=s(t(w),2);a(w),a(i),k((S,h,D)=>{o(_,`Deltager ${n(l)??""}`),z(v,"name",`member${S??""}_name`),z(x,"name",`member${h??""}_age`),z(f,"name",`member${D??""}_notes`)},[()=>A(n(l)),()=>A(n(l)),()=>A(n(l))]),b(e,i)}),a(O);var B=s(O,2);{var ea=e=>{var l=ca(),i=R(l);G(i,17,()=>p.form.errors??[],U,(c,_)=>{var r=wa(),d=t(r),v=t(d,!0);a(d),a(r),k(()=>o(v,n(_).message)),b(c,r)}),b(e,l)};W(B,e=>{p.form?.error&&e(ea)})}var K=s(B,2),sa=t(K);sa.__click=()=>u.close(),V(2),a(K),a(T),va(T,(e,l)=>ba?.(e,l),()=>()=>async({result:e,update:l})=>{await l(),e.type==="success"&&u?.close()}),a(H),V(2),a(M),_a(M,e=>u=e,()=>u),k(e=>o(aa,`(${e??""} personer)`),[()=>Math.min(Math.max(n(g)||3,3),6)]),ua(J,()=>n(g),e=>ia(g,e)),b(C,F),da()}pa(["click"]);export{Da as component};
