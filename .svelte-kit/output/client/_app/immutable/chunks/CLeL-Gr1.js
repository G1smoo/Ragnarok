import{aC as ee,g as U,X as W,q as te,o as se,aD as L,A as I,O as c,v as d,U as ie,a9 as w,E as J,F as ne,P as F,I as re,R as g,aE as N,a0 as k,aF as A,aG as E,aH as Y,aI as ae,ah as M,ai as K,aJ as oe,a4 as C,K as T,n as he,J as le,aK as q,aL as fe,ad as ue,aM as de,aN as _e,a5 as D,aO as ce,aP as pe,Z as ge,V as Q,aQ as ve,aR as $,M as b,aa as j,aS as P,aT as V,aU as ye,a7 as me,Y as Ee,aV as be,p as Te,at as we,Q as Re,aW as Ne,b as Se}from"./BV3VnAY7.js";function Ae(t){let e=0,s=W(0),n;return()=>{ee()&&(U(s),te(()=>(e===0&&(n=se(()=>t(()=>L(s)))),e+=1,()=>{I(()=>{e-=1,e===0&&(n?.(),n=void 0,L(s))})})))}}var De=ue|de|_e;function Fe(t,e,s){new Oe(t,e,s)}class Oe{parent;#i=!1;#t;#p=d?c:null;#n;#f;#r;#s=null;#e=null;#a=null;#o=null;#u=0;#h=0;#d=!1;#l=null;#v=()=>{this.#l&&ie(this.#l,this.#u)};#y=Ae(()=>(this.#l=W(this.#u),()=>{this.#l=null}));constructor(e,s,n){this.#t=e,this.#n=s,this.#f=n,this.parent=w.b,this.#i=!!this.#n.pending,this.#r=J(()=>{if(w.b=this,d){const r=this.#p;ne(),r.nodeType===F&&r.data===re?this.#E():this.#m()}else{try{this.#s=g(()=>n(this.#t))}catch(r){this.error(r)}this.#h>0?this.#c():this.#i=!1}},De),d&&(this.#t=c)}#m(){try{this.#s=g(()=>this.#f(this.#t))}catch(e){this.error(e)}this.#i=!1}#E(){const e=this.#n.pending;e&&(this.#e=g(()=>e(this.#t)),N.enqueue(()=>{this.#s=this.#_(()=>(N.ensure(),g(()=>this.#f(this.#t)))),this.#h>0?this.#c():(k(this.#e,()=>{this.#e=null}),this.#i=!1)}))}is_pending(){return this.#i||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#n.pending}#_(e){var s=w,n=M,r=K;A(this.#r),E(this.#r),Y(this.#r.ctx);try{return e()}catch(i){return ae(i),null}finally{A(s),E(n),Y(r)}}#c(){const e=this.#n.pending;this.#s!==null&&(this.#o=document.createDocumentFragment(),ke(this.#s,this.#o)),this.#e===null&&(this.#e=g(()=>e(this.#t)))}#g(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#g(e);return}this.#h+=e,this.#h===0&&(this.#i=!1,this.#e&&k(this.#e,()=>{this.#e=null}),this.#o&&(this.#t.before(this.#o),this.#o=null),I(()=>{N.ensure().flush()}))}update_pending_count(e){this.#g(e),this.#u+=e,oe.add(this.#v)}get_effect_pending(){return this.#y(),U(this.#l)}error(e){var s=this.#n.onerror;let n=this.#n.failed;if(this.#d||!s&&!n)throw e;this.#s&&(C(this.#s),this.#s=null),this.#e&&(C(this.#e),this.#e=null),this.#a&&(C(this.#a),this.#a=null),d&&(T(this.#p),he(),T(le()));var r=!1,i=!1;const h=()=>{if(r){ce();return}r=!0,i&&fe(),N.ensure(),this.#u=0,this.#a!==null&&k(this.#a,()=>{this.#a=null}),this.#i=this.has_pending_snippet(),this.#s=this.#_(()=>(this.#d=!1,g(()=>this.#f(this.#t)))),this.#h>0?this.#c():this.#i=!1};var u=M;try{E(null),i=!0,s?.(e,h),i=!1}catch(f){q(f,this.#r&&this.#r.parent)}finally{E(u)}n&&I(()=>{this.#a=this.#_(()=>{this.#d=!0;try{return g(()=>{n(this.#t,()=>e,()=>h)})}catch(f){return q(f,this.#r.parent),null}finally{this.#d=!1}})})}}function ke(t,e){for(var s=t.nodes_start,n=t.nodes_end;s!==null;){var r=s===n?null:D(s);e.append(s),s=r}}const Ce=["touchstart","touchmove"];function Ie(t){return Ce.includes(t)}const G=new Set,x=new Set;function xe(t){for(var e=0;e<t.length;e++)G.add(t[e]);for(var s of x)s(t)}let B=null;function S(t){var e=this,s=e.ownerDocument,n=t.type,r=t.composedPath?.()||[],i=r[0]||t.target;B=t;var h=0,u=B===t&&t.__root;if(u){var f=r.indexOf(u);if(f!==-1&&(e===document||e===window)){t.__root=e;return}var v=r.indexOf(e);if(v===-1)return;f<=v&&(h=f)}if(i=r[h]||t.target,i!==e){pe(t,"currentTarget",{configurable:!0,get(){return i||s}});var O=M,_=w;E(null),A(null);try{for(var a,o=[];i!==null;){var y=i.assignedSlot||i.parentNode||i.host||null;try{var p=i["__"+n];if(p!=null&&(!i.disabled||t.target===i))if(ge(p)){var[Z,...z]=p;Z.apply(i,[t,...z])}else p.call(i,t)}catch(R){a?o.push(R):a=R}if(t.cancelBubble||y===e||y===null)break;i=y}if(a){for(let R of o)queueMicrotask(()=>{throw R});throw a}}finally{t.__root=e,delete t.currentTarget,E(O),A(_)}}}let l;function Me(){l=void 0}function He(t){let e=null,s=d;var n;if(d){for(e=c,l===void 0&&(l=j(document.head));l!==null&&(l.nodeType!==F||l.data!==$);)l=D(l);l===null?b(!1):l=T(D(l))}d||(n=document.head.appendChild(Q()));try{J(()=>t(n),ve)}finally{s&&(b(!0),l=c,T(e))}}function Le(t,e){var s=e==null?"":typeof e=="object"?e+"":e;s!==(t.__t??=t.nodeValue)&&(t.__t=s,t.nodeValue=s+"")}function Pe(t,e){return X(t,e)}function Ye(t,e){P(),e.intro=e.intro??!1;const s=e.target,n=d,r=c;try{for(var i=j(s);i&&(i.nodeType!==F||i.data!==$);)i=D(i);if(!i)throw V;b(!0),T(i);const h=X(t,{...e,anchor:i});return b(!1),h}catch(h){if(h instanceof Error&&h.message.split(`
`).some(u=>u.startsWith("https://svelte.dev/e/")))throw h;return h!==V&&console.warn("Failed to hydrate: ",h),e.recover===!1&&ye(),P(),me(s),b(!1),Pe(t,e)}finally{b(n),T(r),Me()}}const m=new Map;function X(t,{target:e,anchor:s,props:n={},events:r,context:i,intro:h=!0}){P();var u=new Set,f=_=>{for(var a=0;a<_.length;a++){var o=_[a];if(!u.has(o)){u.add(o);var y=Ie(o);e.addEventListener(o,S,{passive:y});var p=m.get(o);p===void 0?(document.addEventListener(o,S,{passive:y}),m.set(o,1)):m.set(o,p+1)}}};f(Ee(G)),x.add(f);var v=void 0,O=be(()=>{var _=s??e.appendChild(Q());return Fe(_,{pending:()=>{}},a=>{if(i){Te({});var o=K;o.c=i}if(r&&(n.$$events=r),d&&we(a,null),v=t(a,n)||{},d&&(w.nodes_end=c,c===null||c.nodeType!==F||c.data!==Re))throw Ne(),V;i&&Se()}),()=>{for(var a of u){e.removeEventListener(a,S);var o=m.get(a);--o===0?(document.removeEventListener(a,S),m.delete(a)):m.set(a,o)}x.delete(f),_!==s&&_.parentNode?.removeChild(_)}});return H.set(v,O),v}let H=new WeakMap;function qe(t,e){const s=H.get(t);return s?(H.delete(t),s(e)):Promise.resolve()}export{He as a,xe as d,Ye as h,Pe as m,Le as s,qe as u};
